library = [
    {"id": 1, "title": "The alchemist", "author": "Paulo Cohelo", "status": "Available"},
    {"id": 2, "title": "The sealed nector", "author": "Safiur Rahman Mubarakpuri", "status": "Issued"},
    {"id": 3, "title": "Muslim's CHARACTER", "author": "Mohammad Al-Ghazali", "status": "Issued"},
    {"id": 4, "title": "Jannat ka bayan", "author": "Mohammad Iqbal keelani", "status": "Available"},
    {"id": 5, "title": "The adventures of captain underpants", "author": "Dev Pilkey", "status": "Issued"},
    {"id": 6, "title": "Advanced Problems in Organic Chemistry for JEE", "author": "M.S. Chauhan", "status": "Available"}
]

while True:
    print("\nMain Menu\n")
    print("1. View all books")
    print("2. Issue a book")
    print("3. Return a book")
    print("4. Exit")
    
    choice = input("Choose number from 1 to 4 : ")

    if choice == '1':
        print("\nBooks:")
        for book in library:
            print(f"ID: {book['id']}, {book['title']} by {book['author']} - {book['status']}")

    
    elif choice == '2':
        book_id = int(input("Enter Book ID to issue: "))
        found = False
        #flag vairable - avoiding the logic problem , can use for loop instead but trying out new things
    
        for book in library:
            if book['id'] == book_id:
                found = True

                if book['status'] == "Issued" :
                 print(f"Sorry,The Book '{book['title']}' is already issued!")

                else: 
                 book['status'] == "Available"   
                 print(f"The book '{book['title']}' is now issued !")
                
                break
        if not found:
            print("Book ID not found.")

    elif choice == '3':
        book_id = int(input("Enter Book ID to return: "))
        found = False
        
        for book in library:
            if book['id'] == book_id:
                found = True

                if book['status'] == "Available":
                 print(f"The Book '{book['title']}' is already in library")
                
                else:
                 book['status'] = "Issued"
                 print(f"The Book '{book['title']}' is now returned")
        if not found:
            print("Book ID not found.")

    elif choice == '4':
        print("The library doors are always open & waiting for you. Have a wonderful day!")
        break
        
    else:
        print("Invalid choice, please choose from given choices only.")
